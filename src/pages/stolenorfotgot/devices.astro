---
import Layout from '@layouts/Default.astro';

const url = Astro.url;
const device = url.searchParams.get('device');
const geo = url.searchParams.get('geo');

const geoTextIt = geo === 'on'
    ? 'Il dispositivo √® geolocalizzato 24/7'
    : geo === 'on-ish'
        ? 'Questo dispositivo √® geolocalizzato'
        : null;

const geoTextEn = geo === 'on'
    ? 'This device is geolocated 24/7'
    : geo === 'on-ish'
        ? 'This device is geolocated'
        : null;
---

<meta slot="head" name="robots" content="noindex,nofollow" />
<script>
    const switchToIt = () => {
        document.getElementById('lang-en').classList.add('hidden');
        document.getElementById('lang-it').classList.remove('hidden');
    };
    const switchToEn = () => {
        document.getElementById('lang-it').classList.add('hidden');
        document.getElementById('lang-en').classList.remove('hidden');
    };
</script>

{device && (
    <Layout title="Lost or Stolen Device">
        <div class="prose dark:prose-dark">
            <h1>Lost or Stolen Device</h1>
            <div id="lang-en">
                <p>If you have found the {device}, please contact me at <a href="mailto:dis@paisy.lol">dis@paisy.lol</a> or WhatsApp <a href="https://wa.me/393509683948">+393509683948</a>.</p>
                {geoTextEn && <p>{geoTextEn}</p>}
                <button onclick="switchToIt()" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded">üáÆüáπ</button>
            </div>
            <div id="lang-it" class="hidden">
                <p>Se hai trovato il {device}, contattami via email a <a href="mailto:dis@paisy.lol">dis@paisy.lol</a> oppure su WhatsApp <a href="https://wa.me/393509683948">+393509683948</a>.</p>
                {geoTextIt && <p>{geoTextIt}</p>}
                <button onclick="switchToEn()" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded">üè¥</button>
            </div>
        </div>
    </Layout>
)}
